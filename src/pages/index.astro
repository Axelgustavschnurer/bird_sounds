---
import Layout from '@layouts/Layout.astro';
---

<Layout>

  <script>
    const bird_names = [
      "Berguv",
      "Björktrast",
      "Blåmes",
      "Bofink",
      "Domherre",
      "Drillsnäppa",
      "Enkelbeckasin",
      "Entita",
      "Fasan",
      "Gransångare",
      "Gräshoppsångare",
      "Gråsparv",
      "Grönbena",
      "Grönfink",
      "Gröngöling",
      "Grönsångare",
      "Gulsparv",
      "Gärdsmyg",
      "Gök",
      "Hämpling",
      "Kattuggla",
      "Koltrast",
      "Korp",
      "Lövsångare",
      "Mindre hackspett",
      "Morkulla",
      "Näktergal",
      "Nötväcka",
      "Ormvråk",
      "Ringduva",
      "Rosenfink",
      "Rödbena",
      "Rödhake",
      "Rödstjärt",
      "Rödvingetrast",
      "Rördrom",
      "Rörsångare",
      "Skogsduva",
      "Skäggdopping",
      "Sommargylling",
      "Sothöna",
      "Spillkråka",
      "Stare",
      "Steglits",
      "Storspov",
      "Större hackspett",
      "Svart-vit flugsnappare",
      "Svarthätta",
      "Svartmes",
      "Sävsparv",
      "Sävsångare",
      "Sånglärka",
      "Sångsvan",
      "Talgoxe",
      "Talltita",
      "Taltrast",
      "Tofsvipa",
      "Trana",
      "Trädkrypare",
      "Trädpiplärka",
      "Turkduva",
      "Törnsångare",
      "Vattenrall",
      "Ängspiplärka",
      "Ärtsångare"
  ]

    const bird_sound_paths = bird_names.map(name => `http://localhost:4321/sounds/${name}.mp3`);
    
    const birdList = document.getElementById("bird-list");

    bird_names.forEach((name, i) => {
      const li = document.createElement("li");

      const label = document.createElement("p");
      label.textContent = name;

      const audio = document.createElement("audio");
      audio.controls = true;

      const source = document.createElement("source");
      source.src = bird_sound_paths[i];
      source.type = "audio/mp3";

      audio.appendChild(source);
      li.appendChild(label);
      li.appendChild(audio);
      if (birdList) {
        birdList.appendChild(li);
      }
    });

  </script>

	<main>
    <ul id="bird-list"></ul>

    <label>Vilken fågel?</label>
    <input type="text" />
    <button>Gissa</button>  
	</main>
</Layout>

<style>

</style>